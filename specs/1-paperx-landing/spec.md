# Feature Specification: PaperX 官网与论文推送首页

**Feature Branch**: `1-paperx-landing`  
**Created**: 2025-12-04  
**Status**: Draft  
**Input**: User description: "我要创建一个名为PaperX的官网，类似于这样的布局，推送论文"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 浏览最新热门论文流 (Priority: P1)

当研究者或从业者打开 PaperX 官网时，可以看到一个类似 alphaXiv 的首页：展示近期热门/最新论文流，支持按领域与时间筛选，并可快速浏览摘要与基本元信息。

**Why this priority**: 这是网站的核心价值主张——帮助用户快速发现值得关注的论文，是所有后续功能（收藏、筛选、个性化）的基础。

**Independent Test**: 只实现该用户故事时，用户仍然可以访问 PaperX 官网、浏览论文列表、查看摘要和基础信息，并基于简单筛选找到感兴趣的内容。

**Acceptance Scenarios**:

1. **Given** 用户首次访问 PaperX 官网，**When** 打开首页，**Then** 能看到按时间或热度排序的论文列表，每条包含标题、作者、发布日期和简要摘要。
2. **Given** 用户在首页选择某个领域/标签筛选，**When** 应用筛选条件，**Then** 论文列表只展示符合该条件的论文，且空结果时有清晰提示。
3. **Given** 用户点击某一篇论文卡片，**When** 进入详情视图，**Then** 能看到更完整的摘要、元数据以及跳转到原始论文的链接。

---

### User Story 2 - 收藏和管理个人论文列表 (Priority: P2)

登录用户可以在首页论文流中将论文添加到“我的文库”或自定义收藏列表，以便日后快速回顾和整理阅读计划。

**Why this priority**: 收藏与组织是长期使用场景的关键，有助于把 PaperX 从“浏览工具”升级为“个人论文中枢”，增强留存。

**Independent Test**: 只实现该用户故事（在具备基础浏览能力的前提下）时，用户可以登录、收藏论文、查看和管理自己的收藏列表，形成最小可用个人文库功能。

**Acceptance Scenarios**:

1. **Given** 用户已登录并在首页看到论文列表，**When** 点击某篇论文上的“收藏”操作，**Then** 该论文被加入默认收藏列表，并有成功反馈。
2. **Given** 用户已收藏多篇论文，**When** 访问“我的文库”页面，**Then** 能看到所有已收藏论文，并支持按添加时间或来源排序。
3. **Given** 用户希望管理收藏，**When** 在“我的文库”中取消收藏某论文，**Then** 该论文从列表中移除，刷新页面后仍保持更新后的状态。

---

### User Story 3 - 个性化论文推荐与推送视图 (Priority: P3)

登录用户可以在首页或专门的“推荐”页面看到基于其兴趣、历史行为和偏好的论文推荐流，并可清晰区分“通用热门”与“为你推荐”的内容。

**Why this priority**: 个性化推荐可以提升论文发现效率和使用粘性，但在基础浏览与收藏能力之后实现更为合理。

**Independent Test**: 在已有浏览和收藏基础上，只实现该用户故事时，用户可以切换到“为你推荐”视图，并看到明显区别于通用热门列表的推荐内容。

**Acceptance Scenarios**:

1. **Given** 用户已登录并有一定浏览/收藏历史，**When** 打开“为你推荐”视图，**Then** 能看到一组推荐论文列表，且与通用热门列表有明显差异。
2. **Given** 用户在推荐流中对论文进行正向互动（如点击、收藏），**When** 多次刷新推荐流，**Then** 推荐内容逐步更贴近其兴趣方向（例如同一领域或相近主题）。
3. **Given** 用户希望控制推荐范围，**When** 在推荐设置中调整偏好（如关注的领域、时间窗口），**Then** 推荐列表的内容会相应发生变化，并在合理时间内生效。

---

### User Story 4 - 配置自定义模型服务商 (Priority: P3)

管理员或高级用户可以在网站的“设置”区域配置用于 PaperX 内部智能能力（如摘要、推荐策略调优等）的模型服务商信息，包括名称、说明和访问凭据，从而支持不同环境或供应商切换。

**Why this priority**: 可配置的模型服务商为后续智能功能打基础，但不影响最小可用的论文浏览和收藏体验，因此优先级低于首页与文库能力。

**Independent Test**: 在仅实现该用户故事（并假定系统已有基础管理入口）的情况下，管理员仍然可以进入设置页面，添加或更新模型服务商配置，并在后续功能中引用这些配置。

**Acceptance Scenarios**:

1. **Given** 管理员已登录，**When** 进入“设置 → 模型服务商”页面，**Then** 能看到当前已配置的模型服务商列表（如名称、简要说明、启用状态）。
2. **Given** 管理员希望添加新的模型服务商，**When** 在设置页面填写必要信息（如名称、说明和访问凭据），**Then** 保存后该配置出现在列表中，并可在其他需要模型能力的功能中被选择使用。
3. **Given** 某个模型服务商配置失效或不再使用，**When** 管理员在设置页面禁用或删除该配置，**Then** 后续新发起的相关智能功能调用不再使用该服务商，并对受影响区域有合理的降级或提示。

---

### Edge Cases

- 当外部论文数据源暂时不可用时，首页应展示已有缓存数据或占位提示，而不是空白页面或报错堆栈。
- 当论文列表为空（例如筛选条件过于严格）时，页面需要有友好的空状态和清晰的下一步引导（如重置筛选、查看热门论文）。
- 当未登录用户尝试执行需要账号的操作（如收藏、订阅推送）时，应引导其登录/注册，而不是直接失败。


## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系统 MUST 在首页展示最新或最受关注的论文列表，每条论文包含标题、作者、发布日期和简要摘要。
- **FR-002**: 系统 MUST 支持按时间（例如最近若干天/周）和基础主题/标签对首页论文列表进行筛选或排序。
- **FR-003**: 系统 MUST 允许登录用户将论文添加到个人文库或收藏列表，并在后续访问中保持这些记录。
- **FR-004**: 系统 MUST 提供“我的文库”视图，展示用户已收藏的论文，并支持基础排序（如添加时间、来源）。
- **FR-005**: 系统 MUST 提供面向登录用户的推荐论文视图，能够基于用户行为或偏好生成与通用热门列表有所差异的推荐结果。
- **FR-006**: 系统 MUST 在论文详情视图中提供跳转到原始论文页面或原始文档的链接，并保证链接可用性有基本校验。
- **FR-007**: 系统 MUST 在外部论文数据源不可用或响应异常时，提供降级策略（例如展示已有缓存、提示稍后重试），避免影响整个首页可用性。
- **FR-008**: 系统 MUST 在首页和文库视图中保持合理的加载体验（如分段加载、加载状态提示），避免长时间空白或卡死。
- **FR-009**: 系统 MUST 记录与首页浏览和收藏相关的关键操作（例如查看详情、收藏/取消收藏）以便后续分析和优化推荐逻辑。

示例不清晰需求的标注方式：

- **FR-010**: 系统 MUST 支持向用户推送论文更新或推荐内容，但 [NEEDS CLARIFICATION: 推送渠道与频率未明确——是站内通知、邮件，还是其他形式？推送频率/节流策略如何定义？]

- **FR-011**: 系统 MUST 提供一个可访问的“设置”入口，用于管理与智能能力相关的模型服务商配置，包括新增、编辑、禁用和删除操作。
- **FR-012**: 系统 MUST 以安全方式存储模型服务商的访问凭据（例如密钥或令牌），并在界面上做敏感信息的隐藏与最小化展示。[NEEDS CLARIFICATION: 模型服务商配置是全局级别（仅管理员可见）还是支持按用户/团队维度自定义？]

### Key Entities *(include if feature involves data)*

- **Paper（论文）**: 表示可被展示和推送的论文，包含标题、作者列表、摘要、发布日期、主题标签、来源信息、外部链接等元数据。
- **User（用户）**: 表示访问 PaperX 的个体，包含账号标识、基础资料以及个性化偏好设置（如关注领域、偏好时间范围）。
- **UserLibrary / Collection（用户文库/收藏列表）**: 表示用户收藏的论文集合，包含用户标识、论文引用、收藏时间以及可选的自定义分组信息。
- **FeedItem（信息流条目）**: 表示在首页或推荐页面展示的单条记录，通常基于 Paper 数据生成，并可能包含来源（通用热门/为你推荐）、排序权重等。
- **RecommendationPreference（推荐偏好）**: 表示用户对推荐内容的配置，如关注的学科领域、是否偏好最新论文、是否排除已读/已收藏内容等。
- **ModelProviderConfig（模型服务商配置）**: 表示可被系统内部智能能力引用的单个模型服务商配置，包括名称、说明、类型、访问端点及加密存储的访问凭据等。


## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 对于新访客，在普通网络环境下，从打开首页到首屏论文列表渲染完成的时间中位数不超过 3 秒。
- **SC-002**: 在有稳定外部数据源的前提下，首页论文列表请求的失败率低于 1%，且失败时有明确的用户提示或降级内容。
- **SC-003**: 至少 60% 的登录用户在首次访问当天完成 ≥1 篇论文的收藏操作。
- **SC-004**: 在有推荐视图的用户中，至少 30% 的用户在“为你推荐”列表中产生交互行为（如点击详情或收藏）。
- **SC-005**: 在功能上线后 1 个月内，与内部基线对比，用户在首页停留时间或访问论文详情的次数有显著提升（例如提升 ≥20%，具体基线待业务确认）。


